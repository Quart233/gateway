flowchart TD

    client --> OPNsense

    subgraph v2ray
        inbounds -->|tag: UDP 53| DNS --> outbounds
    end

    v2ray -->|geosite:cn| ISPDNS
    v2ray -->|others| FAKEDNS

    OPNsense -->|Default| PPPOE
    OPNsense -->|FAKEIP| META
    META -->|L2| client
    OPNsense -->|DNS| v2ray